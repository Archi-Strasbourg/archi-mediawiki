{
  "name": "archi-strasbourg/archi-mediawiki",
  "description": "Port of Archi-Wiki to MediaWiki",
  "license": "GPL-3.0-only",
  "type": "project",
  "replace": {
    "rudloff/mediawiki-composer": "~0.1.3",
    "mediawiki/textextracts": "*"
  },
  "require": {
    "php": ">=7.4",
    "ext-redis": "*",
    "archi-strasbourg/archi-blog": "dev-master",
    "archi-strasbourg/archi-comments": "dev-master",
    "archi-strasbourg/archi-footer": "dev-master",
    "archi-strasbourg/archi-home": "dev-master as 1.0.x-dev",
    "archi-strasbourg/archi-maps": "dev-master",
    "archi-strasbourg/archi-move": "dev-master",
    "archi-strasbourg/archi-news-tab": "dev-master",
    "archi-strasbourg/archi-wiki-skin": "dev-master",
    "archi-strasbourg/category-breadcrumb": "dev-master",
    "archi-strasbourg/email-login": "dev-master",
    "archi-strasbourg/emailuser-html": "dev-master",
    "archi-strasbourg/language-code": "dev-master",
    "archi-strasbourg/link-to-archive": "dev-master",
    "archi-strasbourg/sections-count": "dev-master as 1.0.x-dev",
    "cweagans/composer-patches": "^1.6",
    "mediawiki/arrays": "dev-REL1_39",
    "mediawiki/cirrussearch": "dev-REL1_39",
    "mediawiki/cite": "dev-master#989dcce3b74cf0c784e1a415adad3a5753de5a98",
    "mediawiki/clean-changes": "dev-REL1_39",
    "mediawiki/code-mirror": "dev-REL1_39",
    "mediawiki/comments": "dev-REL1_39 as 1.39",
    "mediawiki/commons-metadata": "dev-REL1_39",
    "mediawiki/confirm-edit": "dev-master#b793c792470f0993970d2bbe191ca06eaa11fdfb",
    "mediawiki/contact-page": "dev-REL1_39",
    "mediawiki/contribution-scores": "dev-REL1_39",
    "mediawiki/core": "~1.39.0",
    "mediawiki/dismissable-site-notice": "dev-REL1_39",
    "mediawiki/echo": "dev-REL1_39",
    "mediawiki/elastica": "dev-REL1_39",
    "mediawiki/flow": "dev-REL1_39",
    "mediawiki/g-tag": "dev-master",
    "mediawiki/geo-data": "dev-REL1_39",
    "mediawiki/googlecustomwikisearch": "dev-REL1_39",
    "mediawiki/lookup-user": "dev-REL1_39",
    "mediawiki/loops": "dev-REL1_39",
    "mediawiki/maps": "^10.0",
    "mediawiki/meta-description-tag": "^0.4.0",
    "mediawiki/mixed-namespace-search-suggestions": "dev-REL1_39",
    "mediawiki/mobile-frontend": "dev-REL1_27#c20e4d771dbca20a0e1bd9afa5182eaf0982e257",
    "mediawiki/multimedia-viewer": "dev-REL1_39",
    "mediawiki/newsletter": "dev-REL1_39",
    "mediawiki/nuke": "dev-REL1_35#af4701d0104ccca93148f31743c35a547897363f",
    "mediawiki/page-forms": "^5.2",
    "mediawiki/page-images": "dev-REL1_35#40a7af3007deaf755ee86a5325aaabdec3a13d22",
    "mediawiki/parser-functions": "dev-master",
    "mediawiki/replace-text": "dev-REL1_35#d898d05389c741949b9cb69a84104b2f8160d257",
    "mediawiki/semantic-forms-select": "^4.0@beta",
    "mediawiki/semantic-media-wiki": "^4.0",
    "mediawiki/semantic-result-formats": "^4.0",
    "mediawiki/smitespam": "dev-REL1_39",
    "mediawiki/template-data": "dev-REL1_35#4d7fef94c3f6f3000e73b99e85c2c82674bbda65",
    "mediawiki/text-extracts": "dev-REL1_35#b8980bf05a9f1431c7fdc2defd9a8ccc00c1bde0",
    "mediawiki/thanks": "dev-REL1_39",
    "mediawiki/translate": "^2023.07",
    "mediawiki/universal-language-selector": "^2021.04",
    "mediawiki/upload-wizard": "dev-REL1_35#3274a143dee853fee613ed1bfeb16757c81e08eb",
    "mediawiki/user-merge": "dev-REL1_39",
    "mediawiki/variables": "dev-REL1_39",
    "mediawiki/vector-skin": "dev-master#b332cb0dbbd5b9f3f58b677beb4d890c58736a9a",
    "mediawiki/visual-editor": "dev-master#1619506",
    "mediawiki/wiki-editor": "dev-master#9372bc3c08dea4cdf497b47c7e6261df3d695d81",
    "mnsami/composer-custom-directory-installer": "^2.0"
  },
  "require-dev": {
    "insite/composer-dangling-locked-deps": "^0.2.1"
  },
  "minimum-stability": "dev",
  "prefer-stable": true,
  "repositories": [
    {
      "type": "composer",
      "url": "https://packages.bluespice.com/"
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/meta-description-tag",
        "version": "0.4.0",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/kolzchut/mediawiki-extensions-MetaDescriptionTag.git",
          "type": "git",
          "reference": "0.4.0"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/g-tag",
        "version": "dev-master",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/SkizNet/mediawiki-GTag.git",
          "type": "git",
          "reference": "1ebe30f99785451c51ae4e7a076ed6eb55c0a8de"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/comments",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-Comments.git",
          "type": "git",
          "reference": "6ecba59f61345aa9d6a3fb30c8e4152ae190f044"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/thanks",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-Thanks.git",
          "type": "git",
          "reference": "42c8e3d84bd80814b6584396090644c6272a56f4"
        }
      }
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-SmiteSpam.git"
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/newsletter",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-Newsletter.git",
          "type": "git",
          "reference": "2828ceeacd18b01137363af7494973f66db2893d"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/lookup-user",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-LookupUser.git",
          "type": "git",
          "reference": "c1a0791533d5aed165233ef7af612be6f9d6c985"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/geo-data",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-GeoData.git",
          "type": "git",
          "reference": "2d865544d61601336282323096019fd9901d4828"
        }
      }
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-Flow.git"
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-GoogleCustomWikiSearch.git"
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-Elastica.git"
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/dismissable-site-notice",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-DismissableSiteNotice.git",
          "type": "git",
          "reference": "85cf6243e193f6726f98db35b772a227b0b042bb"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/contribution-scores",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-ContributionScores.git",
          "type": "git",
          "reference": "0c08d338a1150c76e74ae490cd4d5f5b9f6daa5f"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/contact-page",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-ContactPage.git",
          "type": "git",
          "reference": "ace069678fdfbc3f9a5150421d62afa9d504462a"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/commons-metadata",
        "version": "dev-REL1_39",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-CommonsMetadata.git",
          "type": "git",
          "reference": "0f38f47cb8aa23046764b2fa83be78904abcd67c"
        }
      }
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-CleanChanges.git"
    }
  ],
  "scripts": {
    "post-install-cmd": [
      "rm -r core/vendor",
      "ln -sfn ../vendor/ core/vendor",
      "rm -r core/skins",
      "ln -sfn ../skins/ core/skins",
      "rm -r core/extensions",
      "ln -sfn ../extensions/ core/extensions",
      "ln -sfn ../composer.lock core/composer.lock",
      "cd skins/archi-wiki/ && npm ci && npm run deploy"
    ],
    "updatedb": [
      "Composer\\Config::disableProcessTimeout",
      "@php core/maintenance/update.php --conf LocalSettings.php"
    ]
  },
  "config": {
    "sort-packages": true,
    "platform": {
      "php": "7.4.16"
    },
    "allow-plugins": {
      "composer/installers": true,
      "ocramius/package-versions": true,
      "wikimedia/composer-merge-plugin": true,
      "cweagans/composer-patches": true,
      "insite/composer-dangling-locked-deps": true,
      "oomphinc/composer-installers-extender": true,
      "mnsami/composer-custom-directory-installer": true
    }
  },
  "extra": {
    "composer-exit-on-patch-failure": true,
    "installer-paths": {
      "drush/Commands/contrib/{$name}": [
        "type:drupal-drush"
      ],
      "extensions/CirrusSearch": [
        "mediawiki/cirrussearch"
      ],
      "extensions/SmiteSpam": [
        "mediawiki/smitespam"
      ],
      "extensions/Flow": [
        "mediawiki/flow"
      ],
      "extensions/GoogleCustomWikiSearch": [
        "mediawiki/googlecustomwikisearch"
      ],
      "extensions/Elastica": [
        "mediawiki/elastica"
      ]
    },
    "patches": {
      "mediawiki/blockandnuke": {
        "Pas de merge": "patches/blockandnuke-3.diff",
        "Masquer les utilisateurs bloqués": "patches/blockandnuke-4.diff"
      },
      "mediawiki/contactpage": {
        "En-tête From fixe": "patches/contactpage-1.diff"
      },
      "mediawiki/flow": {
        "Compatibilité éditeur visuel": "patches/flow-T260648.diff"
      },
      "mediawiki/semantic-media-wiki": {
        "Échappement des virgules dans les CSV": "patches/semantic-media-wiki-4976.diff"
      },
      "mediawiki/semantic-forms-select": {
        "Compatibilité avec mobilefrontend": "https://patch-diff.githubusercontent.com/raw/SemanticMediaWiki/SemanticFormsSelect/pull/94.diff",
        "Requêtes AJAX asynchrones": "https://github.com/SemanticMediaWiki/SemanticFormsSelect/commit/5c87fcc877f3f0bf0e9e5180cbd100d67b85898e.diff",
        "Compatibilité MediaWiki 1.39": "https://github.com/SemanticMediaWiki/SemanticFormsSelect/commit/c5e6a2e774c4fe5730a74dff3555f7287cdc40b1.diff"
      }
    }
  }
}
