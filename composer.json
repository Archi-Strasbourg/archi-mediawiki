{
  "name": "archi-strasbourg/archi-mediawiki",
  "description": "Port of Archi-Wiki to MediaWiki",
  "license": "GPL-3.0-only",
  "type": "project",
  "replace": {
    "rudloff/mediawiki-composer": "~0.1.3"
  },
  "require": {
    "mediawiki/core": "~1.29.0",
    "mediawiki/Vector": "~1.29.0",
    "mediawiki/semantic-media-wiki": "~2.5.2",
    "mediawiki/page-forms": "4.1.0",
    "mediawiki/semantic-forms-select": "~2.1.0",
    "mediawiki/maps": "~5.0.2",
    "mediawiki/ParserFunctions": "~1.29.0",
    "mediawiki/Cite": "~1.29.0",
    "mediawiki/Comments": "~1.29.0",
    "mediawiki/MultimediaViewer": "~1.29.0",
    "mediawiki/CommonsMetadata": "~1.29.0",
    "mediawiki/VisualEditor": "~1.29.0",
    "mediawiki/TemplateData": "~1.29.0",
    "mediawiki/Arrays": "~1.29.0",
    "mediawiki/UploadWizard": "~1.29.0",
    "mediawiki/ConfirmEdit": "~1.29.0",
    "mediawiki/ContactPage": "~1.29.0",
    "mediawiki/AddThis": "~1.29.0",
    "mediawiki/TextExtracts": "~1.29.0",
    "mediawiki/Newsletter": "~1.29.0",
    "mediawiki/Echo": "~1.29.0",
    "mediawiki/Nuke": "~1.29.0",
    "mediawiki/Loops": "~1.29.0",
    "mediawiki/Variables": "~1.29.0",
    "mediawiki/translate": "~2016.10.0",
    "mediawiki/CleanChanges": "~1.29.0",
    "mediawiki/DynamicPageList": "~1.29.0",
    "mediawiki/NukeDPL": "~1.29.0",
    "mediawiki/GoogleCustomWikiSearch": "~1.29.0",
    "mediawiki/ReplaceText": "~1.29.0",
    "mediawiki/UserMerge": "~1.29.0",
    "mediawiki/Elastica": "~1.29.0",
    "mediawiki/CirrusSearch": "~1.29.0",
    "mediawiki/LookupUser": "~1.29.0",
    "mediawiki/PageImages": "~1.29.0",
    "mediawiki/MixedNamespaceSearchSuggestions": "~1.29.0",
    "mediawiki/MetaDescriptionTag": "~0.4.0",
    "archi-strasbourg/archi-news-tab": "~1.0.0",
    "archi-strasbourg/category-breadcrumb": "^2.6",
    "archi-strasbourg/archi-maps": "dev-master",
    "archi-strasbourg/archi-blog": "dev-master",
    "archi-strasbourg/archi-comments": "dev-master",
    "archi-strasbourg/archi-home": "dev-master as 1.0.x-dev",
    "archi-strasbourg/archi-footer": "~1.0.0",
    "archi-strasbourg/archi-move": "~1.0.0",
    "archi-strasbourg/emailuser-html": "~1.0.0",
    "archi-strasbourg/paypal": "~1.0.0",
    "archi-strasbourg/archi-mediawiki-redirect": "~1.0.0",
    "archi-strasbourg/sections-count": "dev-master as 1.0.x-dev",
    "archi-strasbourg/language-code": "~1.0.0",
    "archi-strasbourg/link-to-archive": "~1.0.0",
    "archi-strasbourg/archi-wiki-skin": "dev-master",
    "archi-strasbourg/email-login": "~1.0.0",
    "shakeepers/hide-namespace": "~1.4.3",
    "mediawiki/GeoData": "dev-master#b96ab95f996596d98259b3a908562f5db493be22",
    "mediawiki/MobileFrontend": "dev-master#4f7aee1ef2c60f4bb80eac8cb7b18d441ce636b2",
    "mediawiki/BlockAndNuke": "dev-master#aef35514b97f8005a55a05fdc1fd191e9309d9b3",
    "cweagans/composer-patches": "^1.6",
    "mediawiki/DismissableSiteNotice": "~1.31.0"
  },
  "require-dev": {
    "symfony/var-dumper": "~3.3.2"
  },
  "minimum-stability": "dev",
  "prefer-stable": true,
  "repositories": [
    {
      "type": "composer",
      "url": "https://mwpackagist.netlib.re/"
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/MetaDescriptionTag",
        "version": "0.4.0",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/kolzchut/mediawiki-extensions-MetaDescriptionTag.git",
          "type": "git",
          "reference": "0.4.0"
        }
      }
    }
  ],
  "scripts": {
    "post-install-cmd": [
      "rm -r vendor/mediawiki/core/vendor",
      "ln -sfn ../../ vendor/mediawiki/core/vendor",
      "rm -r vendor/mediawiki/core/skins",
      "ln -sfn ../../../skins/ vendor/mediawiki/core/skins",
      "rm -r vendor/mediawiki/core/extensions",
      "ln -sfn ../../../extensions/ vendor/mediawiki/core/extensions",
      "ln -sfn ../../../composer.lock vendor/mediawiki/core/composer.lock",
      "cd skins/archi-wiki/; npm install; ./node_modules/.bin/bower install; ./node_modules/.bin/gulp"
    ],
    "updatedb": "php vendor/mediawiki/core/maintenance/update.php --conf LocalSettings.php"
  },
  "extra": {
    "patches": {
      "mediawiki/blockandnuke": {
        "Pas de merge": "https://patch-diff.githubusercontent.com/raw/wikimedia/mediawiki-extensions-BlockAndNuke/pull/3.diff",
        "Masquer les utilisateurs bloqu√©s": "https://patch-diff.githubusercontent.com/raw/wikimedia/mediawiki-extensions-BlockAndNuke/pull/4.diff"
      }
    }
  }
}
