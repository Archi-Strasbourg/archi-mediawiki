{
  "name": "archi-strasbourg/archi-mediawiki",
  "description": "Port of Archi-Wiki to MediaWiki",
  "license": "GPL-3.0-only",
  "type": "project",
  "replace": {
    "rudloff/mediawiki-composer": "~0.1.3"
  },
  "require": {
    "php": ">=8.2",
    "ext-dom": "*",
    "ext-libxml": "*",
    "ext-mbstring": "*",
    "ext-redis": "*",
    "archi-strasbourg/archi-blog": "dev-master",
    "archi-strasbourg/archi-comments": "dev-master",
    "archi-strasbourg/archi-footer": "dev-master",
    "archi-strasbourg/archi-home": "dev-master",
    "archi-strasbourg/archi-maps": "dev-master",
    "archi-strasbourg/archi-move": "dev-master",
    "archi-strasbourg/archi-news-tab": "dev-master",
    "archi-strasbourg/archi-wiki-skin": "dev-master",
    "archi-strasbourg/category-breadcrumb": "dev-master",
    "archi-strasbourg/email-login": "dev-master",
    "archi-strasbourg/emailuser-html": "dev-master",
    "archi-strasbourg/language-code": "dev-master",
    "archi-strasbourg/link-to-archive": "dev-master",
    "archi-strasbourg/sections-count": "dev-master as 1.0.x-dev",
    "cweagans/composer-patches": "^1.6",
    "mediawiki/arrays": "dev-REL1_43",
    "mediawiki/cirrussearch": "dev-REL1_43",
    "mediawiki/cite": "dev-master#adb55e61f83938cff1b387ec458d2d048face40a",
    "mediawiki/clean-changes": "dev-REL1_43",
    "mediawiki/code-editor": "dev-master#f2643fe78b47d3d0be9a5c70d2d0b0fc03d0a60a",
    "mediawiki/code-mirror": "dev-REL1_43",
    "mediawiki/comments": "dev-REL1_43",
    "mediawiki/commons-metadata": "dev-REL1_43",
    "mediawiki/confirm-edit": "dev-master#ca0037fb887f0bdbf36785b485adde2b8ba6690f",
    "mediawiki/contact-page": "dev-REL1_43",
    "mediawiki/contribution-scores": "dev-REL1_43",
    "mediawiki/core": "~1.43.0",
    "mediawiki/discussion-tools": "dev-master#a7df21e3572817c0fb51d7e00072748bee1075fc",
    "mediawiki/dismissable-site-notice": "dev-REL1_43",
    "mediawiki/echo": "dev-REL1_43",
    "mediawiki/elastica": "dev-REL1_43",
    "mediawiki/flow": "dev-REL1_43",
    "mediawiki/g-tag": "dev-master",
    "mediawiki/geo-data": "dev-REL1_43",
    "mediawiki/googlecustomwikisearch": "dev-REL1_43",
    "mediawiki/linter": "dev-master#be341885d79420838083fa920ed8319b2a7ed7e5",
    "mediawiki/lookup-user": "dev-REL1_43",
    "mediawiki/loops": "dev-REL1_43",
    "mediawiki/maps": "^11.0",
    "mediawiki/meta-description-tag": "^0.4.0",
    "mediawiki/mobile-frontend": "dev-REL1_27#19b1124fb6e6012af10ed8750fb05ac304a0566c",
    "mediawiki/multimedia-viewer": "dev-REL1_43",
    "mediawiki/newsletter": "dev-REL1_43",
    "mediawiki/nuke": "dev-REL1_35#af4701d0104ccca93148f31743c35a547897363f",
    "mediawiki/page-forms": "^6.0",
    "mediawiki/page-images": "dev-master#1a5a4eff5a16fc04da30d4d5f14cf47c4f008bac",
    "mediawiki/parser-functions": "dev-master",
    "mediawiki/replace-text": "dev-REL1_35#d898d05389c741949b9cb69a84104b2f8160d257",
    "mediawiki/scribunto": "dev-master#7d2f2f5bddafd9e740c14e8d656c0408cbf130dc",
    "mediawiki/semantic-forms-select": "^4.0.1@dev",
    "mediawiki/semantic-media-wiki": "^5.0",
    "mediawiki/semantic-result-formats": "^5.0",
    "mediawiki/smitespam": "dev-REL1_43",
    "mediawiki/template-data": "dev-master#6b64cf0366fad7b337d233927adfe2660f98939d",
    "mediawiki/text-extracts": "dev-REL1_35#b8980bf05a9f1431c7fdc2defd9a8ccc00c1bde0",
    "mediawiki/thanks": "dev-REL1_43",
    "mediawiki/translate": "^2023.07",
    "mediawiki/universal-language-selector": "^2025.03",
    "mediawiki/upload-wizard": "dev-REL1_35#3274a143dee853fee613ed1bfeb16757c81e08eb",
    "mediawiki/user-merge": "dev-REL1_43",
    "mediawiki/variables": "dev-REL1_43",
    "mediawiki/vector-skin": "dev-master#d09fef55333cb0cbb5963c945bf2dc878f3b35ca",
    "mediawiki/visual-editor": "dev-master#34cf5345add0fa8d353e76334a8a948772e77f2b",
    "mediawiki/wiki-editor": "dev-master#847d10db226f6fde298bc813361aac8b8b66559f",
    "mnsami/composer-custom-directory-installer": "^2.0"
  },
  "require-dev": {
    "insite/composer-dangling-locked-deps": "^0.4.0"
  },
  "minimum-stability": "dev",
  "prefer-stable": true,
  "repositories": [
    {
      "type": "composer",
      "url": "https://packages.bluespice.com/"
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/meta-description-tag",
        "version": "0.4.0",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/kolzchut/mediawiki-extensions-MetaDescriptionTag.git",
          "type": "git",
          "reference": "0.4.0"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/g-tag",
        "version": "dev-master",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/SkizNet/mediawiki-GTag.git",
          "type": "git",
          "reference": "1ebe30f99785451c51ae4e7a076ed6eb55c0a8de"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/comments",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-Comments.git",
          "type": "git",
          "reference": "254ac7820868855d3d49430ad8b935cdbd338060"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/thanks",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-Thanks.git",
          "type": "git",
          "reference": "d67714f5c37b1123b5e9d450bbcc3ca4321c6639"
        }
      }
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-SmiteSpam.git"
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/newsletter",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-Newsletter.git",
          "type": "git",
          "reference": "509ac14bbf0e1f29185130c2cb93334ff7be263d"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/lookup-user",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-LookupUser.git",
          "type": "git",
          "reference": "169c1526ba88cbd17d44b38e0dd42d9731916cf8"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/geo-data",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-GeoData.git",
          "type": "git",
          "reference": "8709756309ff639d88966efe6871d95a8275ec4f"
        }
      }
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-Flow.git"
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-GoogleCustomWikiSearch.git"
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-Elastica.git"
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/dismissable-site-notice",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-DismissableSiteNotice.git",
          "type": "git",
          "reference": "403b94229e917ef24f66459cae40691297fbe9f0"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/contribution-scores",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-ContributionScores.git",
          "type": "git",
          "reference": "a00a21775ea3486720bb104e3fafa710fff18c61"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/contact-page",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-ContactPage.git",
          "type": "git",
          "reference": "ae0eefe6b50e7549a7c6901ed5f7038c8a182603"
        }
      }
    },
    {
      "type": "package",
      "package": {
        "name": "mediawiki/commons-metadata",
        "version": "dev-REL1_43",
        "type": "mediawiki-extension",
        "source": {
          "url": "https://github.com/wikimedia/mediawiki-extensions-CommonsMetadata.git",
          "type": "git",
          "reference": "3d8c38cb64b6dd7a07990d4f52b96ddd8d7cd227"
        }
      }
    },
    {
      "type": "vcs",
      "url": "https://github.com/wikimedia/mediawiki-extensions-CleanChanges.git"
    }
  ],
  "scripts": {
    "post-install-cmd": [
      "rm -r core/vendor",
      "ln -sfn ../vendor/ core/vendor",
      "rm -r core/skins",
      "ln -sfn ../skins/ core/skins",
      "rm -r core/extensions",
      "ln -sfn ../extensions/ core/extensions",
      "ln -sfn ../composer.lock core/composer.lock",
      "cd skins/archi-wiki/ && npm ci && npm run deploy"
    ],
    "updatedb": [
      "Composer\\Config::disableProcessTimeout",
      "@php core/maintenance/update.php --conf LocalSettings.php"
    ]
  },
  "config": {
    "sort-packages": true,
    "platform": {
      "php": "8.2.26"
    },
    "allow-plugins": {
      "composer/installers": true,
      "ocramius/package-versions": true,
      "wikimedia/composer-merge-plugin": true,
      "cweagans/composer-patches": true,
      "insite/composer-dangling-locked-deps": true,
      "oomphinc/composer-installers-extender": true,
      "mnsami/composer-custom-directory-installer": true
    }
  },
  "extra": {
    "composer-exit-on-patch-failure": true,
    "installer-paths": {
      "drush/Commands/contrib/{$name}": [
        "type:drupal-drush"
      ],
      "extensions/CirrusSearch": [
        "mediawiki/cirrussearch"
      ],
      "extensions/SmiteSpam": [
        "mediawiki/smitespam"
      ],
      "extensions/Flow": [
        "mediawiki/flow"
      ],
      "extensions/GoogleCustomWikiSearch": [
        "mediawiki/googlecustomwikisearch"
      ],
      "extensions/Elastica": [
        "mediawiki/elastica"
      ]
    },
    "patches": {
      "mediawiki/blockandnuke": {
        "Pas de merge": "patches/blockandnuke-3.diff",
        "Masquer les utilisateurs bloqués": "patches/blockandnuke-4.diff"
      },
      "mediawiki/contactpage": {
        "En-tête From fixe": "patches/contactpage-1.diff"
      },
      "mediawiki/code-editor": {
        "Compatibilité avec PageForms": "https://github.com/wikimedia/mediawiki-extensions-CodeEditor/commit/806d1194de786c2b4c37af65769946d8f53eba11.diff"
      },
      "mediawiki/maps": {
        "Parser sans utilisateur": "https://github.com/ProfessionalWiki/Maps/commit/4d50c2634ed1da08fb55c8ae95c413397faac179.diff"
      },
      "mediawiki/semantic-media-wiki": {
        "Compatibilité MW 1.43.1": "patches/semantic-media-wiki-6152.diff",
        "Échappement des virgules dans les CSV": "patches/semantic-media-wiki-4976.diff"
      },
      "mediawiki/semantic-forms-select": {
        "Compatibilité avec mobilefrontend": "https://patch-diff.githubusercontent.com/raw/SemanticMediaWiki/SemanticFormsSelect/pull/94.diff",
        "Requêtes AJAX asynchrones": "https://github.com/SemanticMediaWiki/SemanticFormsSelect/commit/5c87fcc877f3f0bf0e9e5180cbd100d67b85898e.diff",
        "Option générée proprement": "patches/semantic-forms-select-option-element.diff"
      },
      "mediawiki/comments": {
        "Compatibilité MW 1.43": "https://github.com/wikimedia/mediawiki-extensions-Comments/commit/965ecdb6d26a1fd5821f44231a519c11cf5944bc.diff",
        "Debug ancres avec Chrome": "https://github.com/wikimedia/mediawiki-extensions-Comments/commit/2b1be432b587028b1c036567943feeb1b0a33e17.diff"
      },
      "mediawiki/text-extracts": {
        "ApiPageSet::getGoodTitles() est déprécié": "patches/text-extracts-T339384.diff"
      }
    }
  }
}
